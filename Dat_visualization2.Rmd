---
title: "Herbicide Resistance"
output: html_document
---

```{r, setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r, Inputs, include=FALSE}
dat = read.delim("./data/test_data_Lrigidum_20200910.txt", header=TRUE, na.string="#N/A")

list_herbicides = c("Clethodim_SURVIVAL_RATE", "Glyphosate_SURVIVAL_RATE", "Sulfometuron_SURVIVAL_RATE", "Terbuthylazine_SURVIVAL_RATE")

list_farmer = unique(dat$Farmer_Agronomist)

list_subdat = list()
for (i in c(1:length(list_farmer))) {
  list_subdat[[i]] <- dat[dat$Farmer_Agronomist==list_farmer[i], ]
}
list_subdat <- setNames(list_subdat,list_farmer)
# print(list_subdat[["Adam"]])
```

```{r, OutputsDir, include=T}
list_html_dir = list()
for (i in c(1:length(list_farmer))) {
  list_html_dir[i] <- paste0("./Plots/", list_farmer[i],".html")
  } #set the output directory
list_html_dir <- setNames(list_html_dir,list_farmer)
print(list_html_dir)
```

```{r, Output, include=T}
getwd()
for (name_farmer in list_farmer) {
  subdat = list_subdat[[name_farmer]]
  rmarkdown::render("Plots.Rmd", output_file = list_html_dir[[name_farmer]])
}
```
